var r=require("vite-plugin-run"),n=require("fs"),e=require("path");function o(){return o=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var o in e)({}).hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},o.apply(null,arguments)}var t={sail:!1,types:!0,typesOnly:!1,only:[],except:[]},i="rzl-app/ziggy";module.exports=function(s){void 0===s&&(s={});try{var c=function(r,n){var e=[n.sail&&!process.env.LARAVEL_SAIL?"sail":"php","artisan","rzl-ziggy:generate"];return n.group&&e.push("--group",n.group),n.url&&e.push("--url",n.url),["1","2"].includes(r)&&(n.types&&e.push("--types"),n.typesOnly&&e.push("--types-only"),"1"===r&&(n.only.length>0&&e.push("--only",n.only.join(",")),n.except.length>0&&e.push("--except",n.except.join(",")))),e}(function(){try{var r,o=e.resolve(process.cwd(),"composer.json"),t=JSON.parse(n.readFileSync(o,"utf-8"));if(null==(r=t.require)||!r[i])throw new Error(i+" not found in composer.json dependencies");var s=t.require[i],c=s.match(/^[~^><]?(\d+)/);if(!c)throw new Error("Invalid version format for "+i+": "+s);return c[1]}catch(r){if(r instanceof Error&&"ENOENT"===r.code)throw new Error("composer.json not found in project root");throw r}}(),o({},t,s)),u=r.run("development"===process.env.NODE_ENV?[{name:"rzl-ziggy-generator",run:c,condition:function(r){return r.includes("/routes/")&&r.endsWith(".php")||r.includes("/")&&r.includes(".env")}}]:[]);return{name:"rzl-ziggy-plugin",configResolved:u.configResolved,handleHotUpdate:u.handleHotUpdate}}catch(r){if(console.error("\n[rzl-vite-plugin-ziggy] Error:"),!(r instanceof Error))throw r;console.error(r.message),"development"===process.env.NODE_ENV&&console.error(r.stack)}return{}};
