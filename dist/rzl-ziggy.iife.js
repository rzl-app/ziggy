/*!
 * rzl-app-ziggy v1.0.67
 * Typed Laravel route generator for any frontend — works with React, Vue, Vanilla JS, and other JavaScript-based stacks.
 * Repository: https://github.com/rzl-app/ziggy
 * (c) 2025 RZL
 * Released under the MIT License
 */

"use strict";(()=>{var pe=Object.create;var X=Object.defineProperty;var ge=Object.getOwnPropertyDescriptor;var he=Object.getOwnPropertyNames;var ye=Object.getPrototypeOf,me=Object.prototype.hasOwnProperty;var _=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports);var be=(a,e,r,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of he(e))!me.call(a,n)&&n!==r&&X(a,n,{get:()=>e[n],enumerable:!(t=ge(e,n))||t.enumerable});return a};var W=(a,e,r)=>(r=a!=null?pe(ye(a)):{},be(e||!a||!a.__esModule?X(r,"default",{value:a,enumerable:!0}):r,a));var I=_((Ye,Z)=>{"use strict";var ve=String.prototype.replace,we=/%20/g,q={RFC1738:"RFC1738",RFC3986:"RFC3986"};Z.exports={default:q.RFC3986,formatters:{RFC1738:function(a){return ve.call(a,we,"+")},RFC3986:function(a){return String(a)}},RFC1738:q.RFC1738,RFC3986:q.RFC3986}});var V=_((Je,J)=>{"use strict";var Re=I(),Q=Object.prototype.hasOwnProperty,x=Array.isArray,w=function(){for(var a=[],e=0;e<256;++e)a.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return a}(),xe=function(e){for(;e.length>1;){var r=e.pop(),t=r.obj[r.prop];if(x(t)){for(var n=[],i=0;i<t.length;++i)typeof t[i]<"u"&&n.push(t[i]);r.obj[r.prop]=n}}},Y=function(e,r){for(var t=r&&r.plainObjects?Object.create(null):{},n=0;n<e.length;++n)typeof e[n]<"u"&&(t[n]=e[n]);return t},Oe=function a(e,r,t){if(!r)return e;if(typeof r!="object"){if(x(e))e.push(r);else if(e&&typeof e=="object")(t&&(t.plainObjects||t.allowPrototypes)||!Q.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var n=e;return x(e)&&!x(r)&&(n=Y(e,t)),x(e)&&x(r)?(r.forEach(function(i,o){if(Q.call(e,o)){var u=e[o];u&&typeof u=="object"&&i&&typeof i=="object"?e[o]=a(u,i,t):e.push(i)}else e[o]=i}),e):Object.keys(r).reduce(function(i,o){var u=r[o];return Q.call(i,o)?i[o]=a(i[o],u,t):i[o]=u,i},n)},Ee=function(e,r){return Object.keys(r).reduce(function(t,n){return t[n]=r[n],t},e)},je=function(a,e,r){var t=a.replace(/\+/g," ");if(r==="iso-8859-1")return t.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(t)}catch{return t}},$e=function(e,r,t,n,i){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),t==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(f){return"%26%23"+parseInt(f.slice(2),16)+"%3B"});for(var u="",l=0;l<o.length;++l){var s=o.charCodeAt(l);if(s===45||s===46||s===95||s===126||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122||i===Re.RFC1738&&(s===40||s===41)){u+=o.charAt(l);continue}if(s<128){u=u+w[s];continue}if(s<2048){u=u+(w[192|s>>6]+w[128|s&63]);continue}if(s<55296||s>=57344){u=u+(w[224|s>>12]+w[128|s>>6&63]+w[128|s&63]);continue}l+=1,s=65536+((s&1023)<<10|o.charCodeAt(l)&1023),u+=w[240|s>>18]+w[128|s>>12&63]+w[128|s>>6&63]+w[128|s&63]}return u},Pe=function(e){for(var r=[{obj:{o:e},prop:"o"}],t=[],n=0;n<r.length;++n)for(var i=r[n],o=i.obj[i.prop],u=Object.keys(o),l=0;l<u.length;++l){var s=u[l],f=o[s];typeof f=="object"&&f!==null&&t.indexOf(f)===-1&&(r.push({obj:o,prop:s}),t.push(f))}return xe(r),e},Se=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},_e=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Ce=function(e,r){return[].concat(e,r)},Ne=function(e,r){if(x(e)){for(var t=[],n=0;n<e.length;n+=1)t.push(r(e[n]));return t}return r(e)};J.exports={arrayToObject:Y,assign:Ee,combine:Ce,compact:Pe,decode:je,encode:$e,isBuffer:_e,isRegExp:Se,maybeMap:Ne,merge:Oe}});var ie=_((er,ne)=>{"use strict";var M=V(),C=I(),Ie=Object.prototype.hasOwnProperty,ee={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},O=Array.isArray,Fe=String.prototype.split,Ae=Array.prototype.push,te=function(a,e){Ae.apply(a,O(e)?e:[e])},Te=Date.prototype.toISOString,re=C.default,m={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:M.encode,encodeValuesOnly:!1,format:re,formatter:C.formatters[re],indices:!1,serializeDate:function(e){return Te.call(e)},skipNulls:!1,strictNullHandling:!1},De=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Le=function a(e,r,t,n,i,o,u,l,s,f,g,p,y,d){var c=e;if(typeof u=="function"?c=u(r,c):c instanceof Date?c=f(c):t==="comma"&&O(c)&&(c=M.maybeMap(c,function(L){return L instanceof Date?f(L):L})),c===null){if(n)return o&&!y?o(r,m.encoder,d,"key",g):r;c=""}if(De(c)||M.isBuffer(c)){if(o){var B=y?r:o(r,m.encoder,d,"key",g);if(t==="comma"&&y){for(var k=Fe.call(String(c),","),H="",N=0;N<k.length;++N)H+=(N===0?"":",")+p(o(k[N],m.encoder,d,"value",g));return[p(B)+"="+H]}return[p(B)+"="+p(o(c,m.encoder,d,"value",g))]}return[p(r)+"="+p(String(c))]}var T=[];if(typeof c>"u")return T;var S;if(t==="comma"&&O(c))S=[{value:c.length>0?c.join(",")||null:void 0}];else if(O(u))S=u;else{var K=Object.keys(c);S=l?K.sort(l):K}for(var D=0;D<S.length;++D){var R=S[D],G=typeof R=="object"&&typeof R.value<"u"?R.value:c[R];if(!(i&&G===null)){var de=O(c)?typeof t=="function"?t(r,R):r:r+(s?"."+R:"["+R+"]");te(T,a(G,de,t,n,i,o,u,l,s,f,g,p,y,d))}}return T},qe=function(e){if(!e)return m;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||m.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=C.default;if(typeof e.format<"u"){if(!Ie.call(C.formatters,e.format))throw new TypeError("Unknown format option provided.");t=e.format}var n=C.formatters[t],i=m.filter;return(typeof e.filter=="function"||O(e.filter))&&(i=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:m.addQueryPrefix,allowDots:typeof e.allowDots>"u"?m.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:m.charsetSentinel,delimiter:typeof e.delimiter>"u"?m.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:m.encode,encoder:typeof e.encoder=="function"?e.encoder:m.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:m.encodeValuesOnly,filter:i,format:t,formatter:n,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:m.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:m.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:m.strictNullHandling}};ne.exports=function(a,e){var r=a,t=qe(e),n,i;typeof t.filter=="function"?(i=t.filter,r=i("",r)):O(t.filter)&&(i=t.filter,n=i);var o=[];if(typeof r!="object"||r===null)return"";var u;e&&e.arrayFormat in ee?u=e.arrayFormat:e&&"indices"in e?u=e.indices?"indices":"repeat":u="indices";var l=ee[u];n||(n=Object.keys(r)),t.sort&&n.sort(t.sort);for(var s=0;s<n.length;++s){var f=n[s];t.skipNulls&&r[f]===null||te(o,Le(r[f],f,l,t.strictNullHandling,t.skipNulls,t.encode?t.encoder:null,t.filter,t.sort,t.allowDots,t.serializeDate,t.format,t.formatter,t.encodeValuesOnly,t.charset))}var g=o.join(t.delimiter),p=t.addQueryPrefix===!0?"?":"";return t.charsetSentinel&&(t.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),g.length>0?p+g:""}});var se=_((rr,ae)=>{"use strict";var P=V(),U=Object.prototype.hasOwnProperty,Qe=Array.isArray,b={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:P.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Ve=function(a){return a.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},oe=function(a,e){return a&&typeof a=="string"&&e.comma&&a.indexOf(",")>-1?a.split(","):a},Me="utf8=%26%2310003%3B",Ue="utf8=%E2%9C%93",ze=function(e,r){var t={},n=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,i=r.parameterLimit===1/0?void 0:r.parameterLimit,o=n.split(r.delimiter,i),u=-1,l,s=r.charset;if(r.charsetSentinel)for(l=0;l<o.length;++l)o[l].indexOf("utf8=")===0&&(o[l]===Ue?s="utf-8":o[l]===Me&&(s="iso-8859-1"),u=l,l=o.length);for(l=0;l<o.length;++l)if(l!==u){var f=o[l],g=f.indexOf("]="),p=g===-1?f.indexOf("="):g+1,y,d;p===-1?(y=r.decoder(f,b.decoder,s,"key"),d=r.strictNullHandling?null:""):(y=r.decoder(f.slice(0,p),b.decoder,s,"key"),d=P.maybeMap(oe(f.slice(p+1),r),function(c){return r.decoder(c,b.decoder,s,"value")})),d&&r.interpretNumericEntities&&s==="iso-8859-1"&&(d=Ve(d)),f.indexOf("[]=")>-1&&(d=Qe(d)?[d]:d),U.call(t,y)?t[y]=P.combine(t[y],d):t[y]=d}return t},Be=function(a,e,r,t){for(var n=t?e:oe(e,r),i=a.length-1;i>=0;--i){var o,u=a[i];if(u==="[]"&&r.parseArrays)o=[].concat(n);else{o=r.plainObjects?Object.create(null):{};var l=u.charAt(0)==="["&&u.charAt(u.length-1)==="]"?u.slice(1,-1):u,s=parseInt(l,10);!r.parseArrays&&l===""?o={0:n}:!isNaN(s)&&u!==l&&String(s)===l&&s>=0&&r.parseArrays&&s<=r.arrayLimit?(o=[],o[s]=n):l!=="__proto__"&&(o[l]=n)}n=o}return n},ke=function(e,r,t,n){if(e){var i=t.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,u=/(\[[^[\]]*])/g,l=t.depth>0&&o.exec(i),s=l?i.slice(0,l.index):i,f=[];if(s){if(!t.plainObjects&&U.call(Object.prototype,s)&&!t.allowPrototypes)return;f.push(s)}for(var g=0;t.depth>0&&(l=u.exec(i))!==null&&g<t.depth;){if(g+=1,!t.plainObjects&&U.call(Object.prototype,l[1].slice(1,-1))&&!t.allowPrototypes)return;f.push(l[1])}return l&&f.push("["+i.slice(l.index)+"]"),Be(f,r,t,n)}},He=function(e){if(!e)return b;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?b.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?b.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:b.allowPrototypes,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:b.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:b.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:b.comma,decoder:typeof e.decoder=="function"?e.decoder:b.decoder,delimiter:typeof e.delimiter=="string"||P.isRegExp(e.delimiter)?e.delimiter:b.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:b.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:b.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:b.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:b.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:b.strictNullHandling}};ae.exports=function(a,e){var r=He(e);if(a===""||a===null||typeof a>"u")return r.plainObjects?Object.create(null):{};for(var t=typeof a=="string"?ze(a,r):a,n=r.plainObjects?Object.create(null):{},i=Object.keys(t),o=0;o<i.length;++o){var u=i[o],l=ke(u,t[u],r,typeof a=="string");n=P.merge(n,l,r)}return P.compact(n)}});var z=_((tr,ue)=>{"use strict";var Ke=ie(),Ge=se(),Xe=I();ue.exports={formats:Xe,parse:Ge,stringify:Ke}});var fe=W(z(),1);var E={PREFIX:{NAME:"RZL ZIGGY"},REPO:{LINK:"https://github.com/rzl-app/ziggy"}};var le=W(z(),1);var h=class extends Error{constructor(r,t,n){let i=n?.trim()||E.PREFIX.NAME,o=r.trim();super(`${i} - ${o}`);this.originalError=t;this.name="RouterConfigError",Error.captureStackTrace&&Error.captureStackTrace(this,v)}},v=class a extends Error{constructor(r,t,n){let i=n?.trim()||E.PREFIX.NAME,o=r.trim();super(`${i} - ${o}`);this.originalError=t;this.name="RoutePropsError",Error.captureStackTrace&&Error.captureStackTrace(this,a)}};var j=class{name;definition;config;wheres;bindings={};constructor(e,r,t){this.name=e,this.definition=r,this.bindings=r?.bindings??{},this.wheres=r?.wheres??{},this.config=t}get template(){let e=`${this.origin}/${this.definition?.uri}`.replace(/\/+$/,"");return e===""?"/":e}get origin(){if(!this.config?.absolute)return"";if(this.definition?.domain){let e=this.config.url.match(/^\w+:\/\//);if(!e)throw new h("Invalid `config.url` missing protocol (e.g., http:// or https://)");return`${e[0]}${this.definition.domain}${this.config.port?`:${this.config.port}`:""}`}return this.config.url}get parameterSegments(){return this.template.match(/{[^}?]+\??}/g)?.map(e=>({name:e.replace(/{|\??}/g,""),required:!/\?}$/.test(e)}))??[]}matchesUrl(e){if(!this.definition?.methods.includes("GET"))return!1;let r=this.template.replace(/[.*+$()[\]]/g,"\\$&").replace(/(\/?){([^}?]*)(\??)}/g,(o,u,l,s)=>{let f=`(?<${l}>${this.wheres[l]?.replace(/(^\^)|(\$$)/g,"")||"[^/?]+"})`;return s?`(${u}${f})?`:`${u}${f}`}).replace(/^\w+:\/\//,""),[t,n]=e.replace(/^\w+:\/\//,"").split("?"),i=new RegExp(`^${r}/?$`).exec(t)??new RegExp(`^${r}/?$`).exec(decodeURI(t));if(i){for(let o in i.groups)i.groups[o]=typeof i.groups[o]=="string"?decodeURIComponent(i.groups[o]):i.groups[o];return{params:i.groups,query:(0,le.parse)(n)}}return!1}compile(e={}){let r=this.template.replace(/{([^}?]+)(\??)}/g,(n,i,o)=>{let u=e[i];if(!o&&u==null)throw new v(`Invalid \`${i}\` parameter is required for route \`${this.name}\`.`);if(this.wheres[i]&&!new RegExp(`^${this.wheres[i]}$`).test(String(u)))throw new v(`Invalid \`${i}\` parameter \`${u}\` does not match required format \`${this.wheres[i]}\` for route \`${this.name}\`.`);return encodeURI(String(u??"")).replace(/%7C/g,"|").replace(/%25/g,"%").replace(/\$/g,"%24")}),t=r;if(this.config?.absolute&&r.includes("://")){let[n,i]=r.split("://");t=n+"://"+i.replace(/\/{2,}/g,"/")}else t=r.replace(/\/{2,}/g,"/");return t==="/"?"/":t.replace(/\/+$/,"")}};var F=class a{absolute;url;port;defaults;routes;location;constructor(e){this.absolute=e.absolute,this.url=e.url,this.port=e.port,this.defaults=e.defaults,this.routes=e.routes,this.location=e.location}static isRouterConfigRaw(e){if(typeof e!="object"||e===null)return!1;let r=e;if(typeof r.url!="string")throw new h(`Invalid \`route()\` \`config\` properties detected. Ensure that \`appRoutes\` is defined globally or passed as a valid config object, \`config\` need object type but you passing as \`${typeof r}\`.`);if(r.port!==null&&typeof r.port!="number")throw new h(`Invalid \`route()\` \`config.port\` properties detected. Ensure that \`appRoutes\` is defined globally or passed as a valid \`config.port\`, \`config.port\` need number or null type but you passing as \`${typeof r.port}\`.`);if(typeof r.defaults!="object"||r.defaults===null)throw new h(`Invalid \`route()\` \`config.defaults\` properties detected. Ensure that \`appRoutes\` is defined globally or passed as a valid \`config.defaults\`, \`config.defaults\` need array or object type but you passing as \`${typeof r.defaults}\`.`);if(typeof r.routes!="object"||r.routes===null||Array.isArray(r.routes))throw new h(`Invalid \`route()\` \`config.routes\` properties detected. Ensure that \`appRoutes\` is defined globally or passed as a valid \`config.routes\`, \`config.routes\` need object type but you passing as \`${typeof r.routes=="object"?"Array":typeof r.routes}\`.`);if("location"in r){let t=r.location;if(typeof t=="string")throw new h(`Invalid \`route()\` \`config.location\` properties detected. Ensure that \`appRoutes\` is defined globally or passed as a valid config object, \`config.location\` need object type\`{ host?: string | undefined; pathname?: string | undefined ;search?: string | undefined; }\` but you passing as \`${typeof t}\`.`);if(typeof t!="object"||t===null||Array.isArray(t))throw new h(`Invalid \`route()\` \`config.location\` properties detected. Ensure that \`appRoutes\` is defined globally or passed as a valid \`config.location\`, \`config.location\` need object type but you passing as \`${typeof r.location=="object"?"Array":typeof r.location}\`.`);let n=t;if("host"in n&&typeof n.host!="string"&&typeof n.host<"u")throw new h(`Invalid \`route()\` \`config.location.host\` properties detected. Ensure that \`appRoutes\` is defined globally or passed as a valid \`config.location.host\`, \`config.location.host\` need string or undefined type but you passing as \`${typeof r.location?.host}\`.`);if("pathname"in n&&typeof n.pathname!="string"&&typeof n.pathname<"u")throw new h(`Invalid \`route()\` \`config.location.pathname\` properties detected. Ensure that \`appRoutes\` is defined globally or passed as a valid \`config.location.pathname\`, \`config.location.pathname\` need string or undefined type but you passing as \`${typeof r.location?.pathname}\`.`);if("search"in n&&typeof n.search!="string"&&typeof n.search<"u")throw new h(`Invalid \`route()\` \`config.location.search\` properties detected. Ensure that \`appRoutes\` is defined globally or passed as a valid \`config.location.search\`, \`config.location.search\` need string or undefined type but you passing as \`${typeof r.location?.search}\`.`)}return!0}static validateAndWrap(e){try{if(e instanceof a)return e;if(!this.isRouterConfigRaw(e))throw new h("Invalid `route()` config properties detected. Ensure that `appRoutes` is defined globally or passed as a valid config object.");return new a(e)}catch(r){throw r instanceof h?r:new h("Invalid `route()` config properties detected. Ensure that `appRoutes` is defined globally or passed as a valid config object.",r instanceof Error?r:new Error(String(r)))}}};var{REPO:$,PREFIX:We}=E,A=class extends String{_config;_route;_params={};constructor(e,r,t=!1,n){if(super(),e?.toString().trim()==="")throw new v(`Invalid \`route()\` "name" value it cannot be an empty string. Use \`undefined\` if you don't want to provide a name. Make sure to call a valid \`Router\` instance method, or you'll encounter an error. Learn more: ${$.LINK}#%EF%B8%8F-warning-calling-route-without-arguments.`);if(t!=null&&typeof t!="boolean")throw new v(`Invalid \`route()\` option "absolute" must be a boolean or undefined, but received type "${typeof t}". Learn more: ${$.LINK}#absolute-url.`);t=!!t;let i=this.safeValidateRouterConfig(n||(typeof appRoutes<"u"?appRoutes:globalThis.appRoutes));if(this._config={...i,absolute:t},e){if(!this._config.routes[e])throw new v(`Route name '${e}' is not in the route list.`);this._route=new j(e,this._config.routes[e],this._config),this._params=this._parse(r)}}safeValidateRouterConfig(e){try{return F.validateAndWrap(e)}catch(r){throw r instanceof h?r:new Error(`${We.NAME} - Unknown error while validating \`route()\` config`,{cause:r instanceof Error?r:void 0})}}_unresolve(e){e?this._config.absolute&&e.startsWith("/")&&(e=this._location().host+e):e=this._currentUrl();let r={},[t,n]=Object.entries(this._config.routes).find(([i,o])=>r=new j(i,o,this._config).matchesUrl(e))||[void 0,void 0];return{name:t,...r,route:n}}_currentUrl(){let{host:e,pathname:r,search:t}=this._location();return(this._config.absolute?e+r:r.replace(this._config.url.replace(/^\w*:\/\/[^/]+/,""),"").replace(/^\/+/,"/"))+t}_location(){let{host:e="",pathname:r="",search:t=""}=typeof window<"u"?window.location:{};return{host:this._config.location?.host??e,pathname:this._config.location?.pathname??r,search:this._config.location?.search??t}}_parse(e={},r=this._route){if(e!=null&&typeof e!="object")throw new v(`Invalid \`route()\` \`params\` property detected. Value \`params\` need object or array type but you passing as \`${typeof e}\`. More info → ${$.LINK}#parameters`);e??={},e=["string","number"].includes(typeof e)?[e]:e;let t=r?.parameterSegments.filter(({name:n})=>!this._config.defaults[n]);return Array.isArray(e)?e=e.reduce((n,i,o)=>t?.[o]?{...n,[t[o].name]:i}:typeof i=="object"?{...n,...i}:{...n,[i]:""},{}):t?.length===1&&!e[t?.[0].name]&&(r&&e.hasOwnProperty(Object.values(r.bindings)[0])||e.hasOwnProperty("id"))&&(e={[t?.[0].name]:e}),{...this._defaults(r),...this._substituteBindings(e,r)}}_defaults(e){return e?.parameterSegments.filter(({name:r})=>this._config.defaults[r]).reduce((r,{name:t},n)=>({...r,[t]:this._config.defaults[t]}),{})}_substituteBindings(e,r=this._route){return Object.entries(e).reduce((t,[n,i])=>{if(!i||typeof i!="object"||Array.isArray(i)||!r?.parameterSegments.some(({name:o})=>o===n))return{...t,[n]:i};if(!i.hasOwnProperty(r.bindings[n]))if(i.hasOwnProperty("id"))r.bindings[n]="id";else throw new v(`Object passed as '${n}' parameter is missing route model binding key '${r.bindings[n]}'. More info → ${$.LINK}#parameters`);return{...t,[n]:i[r.bindings[n]]}},{})}get params(){let{params:e,query:r}=this._unresolve(),t={};for(let n in r){let i=r[n];typeof i=="string"?t[n]=i:Array.isArray(i)?t[n]=i.filter(o=>typeof o=="string").join(","):i&&typeof i=="object"&&(t[n]=JSON.stringify(i))}return{...e,...t}}get routeParams(){return this._unresolve().params||{}}get queryParams(){return this._unresolve().query||{}}has(e){if(typeof e!="string")throw new v(`Invalid \`route().has(...)\` the \`name\` parameter must be a string, but received \`${typeof e}\`.`);return this._config.routes.hasOwnProperty(e)}current(e,r={}){if(e&&typeof e!="string")throw new v(`Invalid \`route().current(...)\` \`name\` property detected. Value \`name\` need string type but you passing as \`${typeof e}\`.`);if(r&&typeof r!="object")throw new v(`Invalid \`params\` value passed to \`route().current(...)\`, expected a object or array (e.g., { foo: "bar" } or [{"foo": "bar"}]), but received \`${typeof r}\`. Learn more: ${$.LINK}#routecurrent-optionally-accepts-parameters-as-its-second-argument-and-will-check-that-their-values-also-match-in-the-current-url.`);r??={},r??={};let{name:t,params:n,query:i,route:o}=this._unresolve();if(!e)return t;let u=typeof t=="string"&&new RegExp(`^${e.replace(/\./g,"\\.").replace(/\*/g,".*")}$`).test(t);if([null,void 0].includes(r)||!u)return u;let l=new j(t,o,this._config);r=this._parse(r,l);let s={...n,...i};if(Object.values(r).every(g=>!g)&&!Object.values(s).some(g=>g!==void 0))return!0;let f=(g,p)=>Object.entries(g).every(([y,d])=>Array.isArray(d)&&Array.isArray(p[y])?d.every(c=>p[y].includes(c)):typeof d=="object"&&typeof p[y]=="object"&&d!==null&&p[y]!==null?f(d,p[y]):p[y]==d);return f(r,s)}toString(){let e=this._route,r=this._params??={};if(!e)throw new v(`Function route() was called without a name but used as a string. Pass a valid route name, or use route().current() to get the current route name — or route().current('dashboard') to check if it matches. More info → ${$.LINK}#%EF%B8%8F-warning-calling-route-without-arguments`);let t=Object.keys(r).filter(i=>!e.parameterSegments.some(({name:o})=>o===i)).filter(i=>i!=="_query").reduce((i,o)=>({...i,[o]:r[o]}),{}),n=r._query||{};if(n!==void 0&&(typeof n!="object"||n===null||Array.isArray(n)))throw new v(`Invalid \`params._query\` value passed to \`route()\`, expected a plain object (e.g., { foo: "bar" }), but received \`${typeof n}\`. More info → ${$.LINK}#query-parameters`);return e.compile(this._params||{})+(0,fe.stringify)({...t,...n},{addQueryPrefix:!0,arrayFormat:"indices",encodeValuesOnly:!0,skipNulls:!0,encoder:(i,o)=>typeof i=="boolean"?String(+i):o(i)})}valueOf(){return this.toString()}};function ce(a,e,r=!1,t){let n=new A(a,e,r,t);return a?n.toString():n}typeof globalThis.route<"u"&&console.warn(`[${E.PREFIX.NAME}]: ⚠️ Detected existing global \`route\`. It will be overridden by rzl-app-ziggy route implementation.`);globalThis.route=ce;})();
